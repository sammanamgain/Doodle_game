var _=Object.defineProperty;var q=(o,t,i)=>t in o?_(o,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[t]=i;var r=(o,t,i)=>(q(o,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();const D=document.getElementById("canvas");class y{constructor(t,i){this.x=t,this.y=i}}class I{constructor(t,i,a,s,n){this.position=t,this.width=i,this.height=a,this.ctx=s,this.image=new Image,this.image.src=n}draw(){this.ctx.drawImage(this.image,this.position.x,this.position.y,this.width,this.height)}move(){this.position.x+=1}update(t){this.position.y>t&&(this.position.x=Math.floor(Math.random()*D.width*3/4),this.position.y=-this.height)}}const L=document.getElementById("canvas");class F{constructor(t,i,a,s,n,f,v,k){r(this,"position");r(this,"width");r(this,"height");r(this,"Rightimgsrc");r(this,"leftimgsrc");r(this,"ctx");r(this,"image");r(this,"vx");r(this,"vy");r(this,"gravity");r(this,"jumpspeed");this.position=t,this.width=i,this.height=a,this.Rightimgsrc=s,this.leftimgsrc=n,this.ctx=f,this.image=new Image,this.image.src=this.Rightimgsrc,this.vx=0,this.vy=0,this.gravity=v,this.jumpspeed=k,this.addEvent()}update(){this.position.x+=this.vx,this.vy+=this.gravity,this.position.y+=this.vy,this.position.x>L.width?this.position.x=0:this.position.x+this.width<0&&(this.position.x=L.width-10),this.vy>15&&(this.vy=15)}addEvent(){document.addEventListener("keydown",t=>{t.code=="ArrowRight"||t.key=="d"?this.moveX(4,this.Rightimgsrc):(t.code=="ArrowLeft"||t.key=="a")&&this.moveX(-4,this.leftimgsrc)}),document.addEventListener("keyup",t=>{(t.code=="ArrowRight"||t.code=="ArrowLeft"||t.key=="d"||t.key=="a")&&(this.vx=0)})}draw(){this.ctx.drawImage(this.image,this.position.x,this.position.y,this.width,this.height)}reset(t){this.position=t,this.vx=0,this.vy=0,this.image.src=this.Rightimgsrc}moveX(t,i){this.vx=t,this.image.src=i}jump(){this.vy=this.jumpspeed}}function N(o,t){return o.position.x<t.position.x+t.width&&o.position.x+o.width>t.position.x&&o.position.y<t.position.y+t.height&&o.position.y+o.height>t.position.y}document.getElementById("canvas");class b extends I{constructor(t,i,a,s,n,f){super(t,i,a,s,n),this.vx=1}move(){this.position.x+=this.vx,this.position.x>canvas.width?this.position.x=0-this.width:this.position.x+this.width<0&&(this.position.x=canvas.width)}update(t){this.move(),super.update(t)}}document.getElementById("canvas");class G{constructor(t,i,a,s,n){r(this,"position");r(this,"width");r(this,"height");r(this,"Rightimgsrc");r(this,"leftimgsrc");r(this,"ctx");r(this,"image");r(this,"vx");r(this,"vy");r(this,"gravity");r(this,"jumpspeed");this.position=t,this.width=i,this.height=a,this.Rightimgsrc=s,this.ctx=n,this.image=new Image,this.image.src=this.Rightimgsrc,this.vx=0,this.vy=0}draw(){this.ctx.drawImage(this.image,this.position.x,this.position.y,this.width,this.height)}update(){this.position.y+=.5}}const R=document.getElementById("canvas"),P=R.getContext("2d");let A=new Image;A.src="./doodlejumpbg.png";let C=new Image;C.src="./atlas3.webp";function Y(){P.drawImage(A,0,0,R.width,R.height)}function $(){P.drawImage(C,641,240,640,960,0,0,640,1024)}function K(){P.drawImage(C,641,190,640,960,0,0,640,1024)}const m=360,S=540,w=document.getElementById("canvas"),e=w.getContext("2d");function z(o){let t=localStorage.getItem("doodle_score"),i=!1;t=t?parseInt(t):0,o>t&&(localStorage.setItem("doodle_score",o.toString()),i=!0,t=o),e.clearRect(0,0,w.width,w.height),K(),e.fillStyle="red",e.font="48px sans-serif",e.fillText("Game Over",m/2-120,S/2),e.font="24px sans-serif",e.fillStyle="green",e.fillText("Press Space to Restart",m/2-110,S/2+50),e.fillStyle="gold",e.font="32px sans-serif",e.fillText("High Score: "+t,m/2-100,S/2-100),i&&(console.log("got high score"),e.fillStyle="red",e.fillText("New High Score!",m/2-100,S/2-50))}function J(){e.clearRect(0,0,w.width,w.height),$(),e.fillStyle="red",e.font="48px 'Comic Neue', sans-serif",e.fillText("doodle jump",m/2-120,100),e.fillStyle="black",e.font="36px 'Comic Neue', sans-serif",e.fillText("play",m/2-30,250),e.fillStyle="green",e.font="36px 'Comic Neue', sans-serif",e.fillText("press Enter to start",m/2-140,350),e.beginPath(),e.strokeStyle="black",e.lineWidth=3,e.roundRect(m/2-60,210,120,50,10),e.stroke()}function Q(){e.clearRect(0,0,w.width,w.height),$(),e.fillStyle="red",e.font="48px 'Comic Neue', sans-serif",e.fillText("doodle jump",m/2-120,100),e.fillStyle="black",e.font="36px 'Comic Neue', sans-serif",e.fillText("play",m/2-30,250),e.fillStyle="green",e.font="36px 'Comic Neue', sans-serif",e.fillText("press P to resume ",m/2-140,350),e.beginPath(),e.strokeStyle="black",e.lineWidth=3,e.roundRect(m/2-60,210,120,50,10),e.stroke()}let O=new Date;window.onload=()=>{const o=document.getElementById("canvas"),t=o.getContext("2d"),i=360,a=540,s=18,n=60;let f=!1,v=0;const k=-12,H=.4;let p="start",T=0;o.width=i,o.height=a;let u=[];function B(){u=[];for(let d=0;d<6;d++){let c=Math.floor(Math.random()*(i-n)),h=a-75*d-150;if(d==4){let g=new b(new y(c,h),n,s,t,"./platform.png");g.update(),u.push(g)}else{let g=new I(new y(c,h),n,s,t,"./platform.png");u.push(g)}}}let M=[];function W(){let d=Math.floor(Math.random()*(i-n)),h=Math.min(...u.map(g=>g.position.y))-Math.random()*50-50;if(T%5==0){let g=new b(new y(d,h),n,s,t,"./platform.png");g.update(),u.push(g)}else{let g=new I(new y(d,h),n,s,t,"./platform.png");u.push(g)}T++}let x;function j(){O=Date.now(),f=!1,v=0,l.reset(new y(i/2-23,a*7/8-46)),B(),u.push(new I(new y(i/2-n/2,a-50),n,s,t,"./platform.png")),p="playing",x=new G(new y(100,100),100,100,"./virus.png",t)}let l=new F(new y(i/2-23,a*7/8-46),46,46,"./doodler-right.png","./doodler-left.png",t,H,k);B();function E(){let d=Date.now();if(t.clearRect(0,0,o.width,o.height),Y(),p==="start")J();else if(p=="pause")Q();else if(p==="playing"){if(f)z(v);else{if(l.update(),N(l,x)&&(console.log("game over"),f=!0),d-O>5e3&&(x.update(),x.draw(),x.position.y>i&&(x.position.y-=2*a)),l.vy<0&&l.position.y<a/2){let c=-l.vy;u.forEach(h=>{h.position.y+=c}),M.forEach(h=>{h.position.y+=c}),l.position.y+=c}for(let c=u.length-1;c>=0;c--){let h=u[c];h.update(),h.draw(),N(h,l)&&l.vy>=0&&(new Audio("./pop-94319.mp3").play().catch(X=>console.log("Error playing audio:",X)),l.jump()),h.position.y>a&&(u.splice(c,1),W(),v++)}if(l.draw(),l.vy<0&&l.position.y<a/2){let c=-l.vy;M.forEach(h=>{h.position.y+=c}),l.position.y+=c}l.position.y>a&&(f=!0)}t.fillStyle="blue",t.font="16px sans-serif",t.fillText(`Score: ${v}`,5,20)}p!="pause"&&requestAnimationFrame(E)}E(),document.addEventListener("keydown",d=>{d.key==="Enter"&&p==="start"||d.key===" "&&p==="playing"&&f?j():d.key=="p"?p==="playing"?p="pause":p=="pause"&&(p="playing",requestAnimationFrame(E)):d.key=="p"&&p=="pause"&&(p="playing")})};
