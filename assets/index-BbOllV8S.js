var X=Object.defineProperty;var _=(i,t,e)=>t in i?X(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var r=(i,t,e)=>(_(i,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();const $=document.getElementById("canvas");class y{constructor(t,e){this.x=t,this.y=e}}class R{constructor(t,e,a,s,n){this.position=t,this.width=e,this.height=a,this.ctx=s,this.image=new Image,this.image.src=n}draw(){this.ctx.drawImage(this.image,this.position.x,this.position.y,this.width,this.height)}update(t){this.position.y>t&&(this.position.x=Math.floor(Math.random()*$.width*3/4),this.position.y=-this.height)}}const O=document.getElementById("canvas");class W{constructor(t,e,a,s,n,d,f,S){r(this,"position");r(this,"width");r(this,"height");r(this,"Rightimgsrc");r(this,"leftimgsrc");r(this,"ctx");r(this,"image");r(this,"vx");r(this,"vy");r(this,"gravity");r(this,"jumpspeed");this.position=t,this.width=e,this.height=a,this.Rightimgsrc=s,this.leftimgsrc=n,this.ctx=d,this.image=new Image,this.image.src=this.Rightimgsrc,this.vx=0,this.vy=0,this.gravity=f,this.jumpspeed=S,this.addEvent()}update(){this.position.x+=this.vx,this.vy+=this.gravity,this.position.y+=this.vy,this.position.x>O.width?this.position.x=0:this.position.x+this.width<0&&(this.position.x=O.width-10),this.vy>15&&(this.vy=15)}addEvent(){document.addEventListener("keydown",t=>{t.code=="ArrowRight"||t.key=="d"?this.moveX(4,this.Rightimgsrc):(t.code=="ArrowLeft"||t.key=="a")&&this.moveX(-4,this.leftimgsrc)}),document.addEventListener("keyup",t=>{(t.code=="ArrowRight"||t.code=="ArrowLeft"||t.key=="d"||t.key=="a")&&(this.vx=0)})}draw(){this.ctx.drawImage(this.image,this.position.x,this.position.y,this.width,this.height)}reset(t){this.position=t,this.vx=0,this.vy=0,this.image.src=this.Rightimgsrc}moveX(t,e){this.vx=t,this.image.src=e}jump(){this.vy=this.jumpspeed}}function T(i,t){return i.position.x<t.position.x+t.width&&i.position.x+i.width>t.position.x&&i.position.y<t.position.y+t.height&&i.position.y+i.height>t.position.y}document.getElementById("canvas");document.getElementById("canvas");class D{constructor(t,e,a,s,n){r(this,"position");r(this,"width");r(this,"height");r(this,"Rightimgsrc");r(this,"leftimgsrc");r(this,"ctx");r(this,"image");r(this,"vx");r(this,"vy");r(this,"gravity");r(this,"jumpspeed");this.position=t,this.width=e,this.height=a,this.Rightimgsrc=s,this.ctx=n,this.image=new Image,this.image.src=this.Rightimgsrc,this.vx=0,this.vy=0}draw(){this.ctx.drawImage(this.image,this.position.x,this.position.y,this.width,this.height)}update(){this.position.y+=.5}}const k=document.getElementById("canvas"),P=k.getContext("2d");let N=new Image;N.src="./doodlejumpbg.png";let B=new Image;B.src="./atlas3.webp";function G(){P.drawImage(N,0,0,k.width,k.height)}function q(){P.drawImage(B,641,240,640,960,0,0,640,1024)}function F(){P.drawImage(B,641,190,640,960,0,0,640,1024)}const m=360,I=540,v=document.getElementById("canvas"),o=v.getContext("2d");function Y(i){let t=localStorage.getItem("doodle_score"),e=!1;t=t?parseInt(t):0,i>t&&(localStorage.setItem("doodle_score",i.toString()),e=!0,t=i),o.clearRect(0,0,v.width,v.height),F(),o.fillStyle="red",o.font="48px sans-serif",o.fillText("Game Over",m/2-120,I/2),o.font="24px sans-serif",o.fillStyle="green",o.fillText("Press Space to Restart",m/2-110,I/2+50),o.fillStyle="gold",o.font="32px sans-serif",o.fillText("High Score: "+t,m/2-100,I/2-100),e&&(console.log("got high score"),o.fillStyle="red",o.fillText("New High Score!",m/2-100,I/2-50))}function K(){o.clearRect(0,0,v.width,v.height),q(),o.fillStyle="red",o.font="48px 'Comic Neue', sans-serif",o.fillText("doodle jump",m/2-120,100),o.fillStyle="black",o.font="36px 'Comic Neue', sans-serif",o.fillText("play",m/2-30,250),o.fillStyle="green",o.font="36px 'Comic Neue', sans-serif",o.fillText("press Enter to start",m/2-140,350),o.beginPath(),o.strokeStyle="black",o.lineWidth=3,o.roundRect(m/2-60,210,120,50,10),o.stroke()}let A=new Date;window.onload=()=>{const i=document.getElementById("canvas"),t=i.getContext("2d"),e=360,a=540,s=18,n=60;let d=!1,f=0;const S=-12,b=.4;let w="start";i.width=e,i.height=a;let p=[];function L(){p=[];for(let g=0;g<6;g++){let l=Math.floor(Math.random()*(e-n)),c=a-75*g-150,x=new R(new y(l,c),n,s,t,"./platform.png");p.push(x)}}let j=[];function H(){let g=Math.floor(Math.random()*(e-n)),c=Math.min(...p.map(E=>E.position.y))-Math.random()*50-50,x=new R(new y(g,c),n,s,t,"./platform.png");p.push(x)}let u;function C(){A=Date.now(),d=!1,f=0,h.reset(new y(e/2-23,a*7/8-46)),L(),p.push(new R(new y(e/2-n/2,a-50),n,s,t,"./platform.png")),w="playing",u=new D(new y(100,100),100,100,"./virus.png",t)}let h=new W(new y(e/2-23,a*7/8-46),46,46,"./doodler-right.png","./doodler-left.png",t,b,S);L();function M(){let g=Date.now();if(t.clearRect(0,0,i.width,i.height),G(),w==="start")K();else if(w==="playing"){if(d)Y(f);else{if(h.update(),T(h,u)&&(console.log("game over"),d=!0),g-A>5e3&&(u.update(),u.draw(),u.position.y>e&&(u.position.y-=2*a)),h.vy<0&&h.position.y<a/2){let l=-h.vy;p.forEach(c=>{c.position.y+=l}),j.forEach(c=>{c.position.y+=l}),h.position.y+=l}for(let l=p.length-1;l>=0;l--){let c=p[l];c.draw(),T(c,h)&&h.vy>=0&&(new Audio("./pop-94319.mp3").play().catch(E=>console.log("Error playing audio:",E)),h.jump()),c.position.y>a&&(p.splice(l,1),H(),f++)}if(h.draw(),h.vy<0&&h.position.y<a/2){let l=-h.vy;j.forEach(c=>{c.position.y+=l}),h.position.y+=l}h.position.y>a&&(d=!0)}t.fillStyle="blue",t.font="16px sans-serif",t.fillText(`Score: ${f}`,5,20)}requestAnimationFrame(M)}M(),document.addEventListener("keydown",g=>{(g.key==="Enter"&&w==="start"||g.key===" "&&w==="playing"&&d)&&C()})};
